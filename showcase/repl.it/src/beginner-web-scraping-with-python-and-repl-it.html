<!DOCTYPE html>
<html lang="en">
<head>
<link rel='canonical' href='https://www.codementor.io/@garethdwyer/beginner-web-scraping-with-python-and-repl-it-nzr27jvnq'>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Beginner web scraping with Python and Repl.it</title>
<style>
@import url(//cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.0/css/font-awesome.css);
/* normalize.css v2.1.1 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address styling not present in IE 8/9. */
[hidden] { display: none; }

/* ========================================================================== Base ========================================================================== */
/** 1. Prevent system color scheme's background color being used in Firefox, IE, and Opera. 2. Prevent system color scheme's text color being used in Firefox, IE, and Opera. 3. Set default font family to sans-serif. 4. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { background: #fff; /* 1 */ color: #000; /* 2 */ font-family: sans-serif; /* 3 */ -ms-text-size-adjust: 100%; /* 4 */ -webkit-text-size-adjust: 100%; /* 4 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

a:focus { outline: none; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #111111; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #ad141e; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #ad141e; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Helvetica Neue", "Helvetica", Arial, sans-serif; font-weight: normal; font-style: normal; color: #111111; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #5e5e5e; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Andale Mono", "monotype.com", "Lucida Console", monospace; font-weight: normal; color: #222222; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }

blockquote, blockquote p { line-height: 1.5; color: #6f6f6f; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Print styles.  Inlined to avoid required HTTP connection: www.phpied.com/delay-loading-your-print-css/ Credit to Paul Irish and HTML5 Boilerplate (html5boilerplate.com)
*/
.print-only { display: none !important; }

@media print { * { background: transparent !important; color: #000 !important; /* Black prints faster: h5bp.com/s */ box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; /* h5bp.com/t */ }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.2; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; padding: 2px; white-space: nowrap; background-color: #eeeeee; border: 0 solid #dddddd; -webkit-border-radius: 0; border-radius: 0; text-shadow: none; }

pre, pre > code { line-height: 1.5; color: white; font-family: Monaco, Consolas, "Courier New", Courier, Sans-serif; font-weight: normal; }

kbd.keyseq { color: #555555; }

kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

kbd kbd:first-child { margin-left: 0; }

kbd kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: #090909; }

p a > code:hover { color: #151515; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }

#toc { border-bottom: 1px solid #dddddd; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }

#toctitle { color: #111111; }

@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #dddddd; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }

#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", sans-serif; font-size: 1em; padding-left: 0.125em; }

#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }

#footer-text { color: #dddddd; line-height: 1.35; }

.sect1 { padding-bottom: 1.25em; }

.sect1 + .sect1 { border-top: 1px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #111111; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #040404; }

.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }

.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }

.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #111111; margin-top: 0; line-height: 1.5; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock > .content pre, .listingblock > .content pre { background: #333333; border-width: 0; padding: 10px; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }

.listingblock > .content { position: relative; }

.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }

.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }

table.pyhltable { border: 0; margin-bottom: 0; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }

.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }

table thead th, table tfoot th { font-weight: bold; }

table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 0; border-radius: 0; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }

table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }

table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }

table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }

th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }

th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }

th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }

th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }

th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }

th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }

p.tableblock.header { color: #222222; font-weight: bold; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .8em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.qanda > ol > li > p > em:only-child { color: #96111a; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }

.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #ad141e; color: #820f16; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }

</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_beginner_web_scraping_with_python_and_repl_it">Beginner web scraping with Python and Repl.it</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this guide, we’ll walk through how to automatically grab data from
web sites. Most websites are created with a <em>human</em> audience in mind -
you use a search engine or type a URL into your web browser, and see
information displayed on the page. Sometimes, we want to <em>automatically</em>
extract and process this data, and this is where web scraping can save
us from boring repetitive labour. We can create a custom computer
program to visit web sites, extract specific data and process this data
in a specific way.</p>
</div>
<div class="paragraph">
<p>We’ll be extracting news data from the <a href="https://bbc.com/news">bbc.com</a>
news website, but you should be able adapt it to extract information
from any website that you want with a bit of trial and error.</p>
</div>
<div class="paragraph">
<p>For example, you might need to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>extract numbers from a report that is released weekly and published
online</p>
</li>
<li>
<p>grab the schedule for your favourite sports team as it’s released</p>
</li>
<li>
<p>find the release dates for upcoming movies in your favourite genre</p>
</li>
<li>
<p>be notified automatically when a website changes</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are many other use cases for web scraping. However, you should
also note that copyright law and web scraping laws are complex and
differ by country. While people generally don’t mind if you aren’t
blatantly copying their content or doing web scraping for commercial
gain, there have been some legal cases involving
<a href="https://techcrunch.com/2016/08/15/linkedin-sues-scrapers/">scraping data
from LinkedIn</a>, media attention from
<a href="https://www.engadget.com/2016/05/13/scientists-release-personal-data-for-70-000-okcupid-profiles/">scraping
data from OKCupid</a>, and in general web scraping can violate law, go
against a particular website’s terms of service, or breach ethical
guidelines.</p>
</div>
<div class="paragraph">
<p>With the disclaimer out of the way, let’s learn how to scrape!</p>
</div>
<div class="sect2">
<h3 id="_overview_and_requirements">Overview and requirements</h3>
<div class="paragraph">
<p>Specifically, in this tutorial we’ll cover</p>
</div>
<div class="ulist">
<ul>
<li>
<p>What a website really is and how HTML works</p>
</li>
<li>
<p>Viewing HTML in your web browser</p>
</li>
<li>
<p>Using Python to download web pages</p>
</li>
<li>
<p>Using <a href="https://www.crummy.com/software/BeautifulSoup/">BeautifulSoup</a> to
extract parts of scraped data</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We’ll be using the online programming environment
<a href="https://repl.it">repl.it</a> so you won’t need to install any software
locally to follow along step by step. If you want to adapt this guide to
your own needs, you should create a free account by going to
<a href="https://repl.it">repl.it</a> and following their sign up process.</p>
</div>
<div class="paragraph">
<p>It would help if you have basic familiarity with Python or another high
level programming language, but we’ll be explaining each line of code we
write in detail so you should be able to keep up, or at least replicate
the result, even if you don’t.</p>
</div>
</div>
<div class="sect2">
<h3 id="_webpages_beauty_and_the_beast">Webpages: beauty and the beast</h3>
<div class="paragraph">
<p>You have no doubt visited web pages using a web browser before. Websites
exist in two forms:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The one you are used to where you can see text, images, and other
media. Different fonts, sizes, and colours are used to display
information in a useful and (normally) aesthetic way.</p>
</li>
<li>
<p>The &#8220;source&#8221; of the webpage. This is the computer code that tells
your web browser (e.g. Mozilla Firefox or Google Chrome) what to display
and how to display it.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Websites are coded in a combination of three computer languages: HTML,
CSS and JavaScript. This in itself is a huge and complicated field with
a messy history, but having a basic understanding of how some of it
works is necessary to effectively automate web scraping. If you open any
website in your browser and right click somehwere on the page, you’ll
see a menu which should include an option to &#8220;view source&#8221; – to
inspect the true form of a website before it is interpreted by your web
browser.</p>
</div>
<div class="paragraph">
<p>This is shown in the image below: a normal web page on the left an open
context menu (displayed by right clicking on the page). Clicking this
produces the result on the right – we can see the code that contains all
the data and supporting information that the web browser needs to
display the complete page. While the page on the left is easy to read
and use, and looks good, the one on the right is a monstrosity. It takes
some effort and experience to make any sense of it, but it’s possible to
do so and it’s necessary if we want to write custom web scrapers.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://i.imgur.com/tbCS0sM.jpg" alt="normal and source view of the same BBC news article"></span><br>
<em>Image 1: Normal and source view of the same BBC news article.</em></p>
</div>
<div class="sect3">
<h4 id="_navigating_the_source_code_using_find">Navigating the source code using Find</h4>
<div class="paragraph">
<p>The first thing to do is to work out how the two pages correspond: which
parts of the normally displayed website match up to which parts of the
code. You can use &#8220;find&#8221; Ctrl + F) in the source code view to find
specific pieces of text that are visible in the normal view to help with
this. In the story on the left we can see that the story starts with the
phrase &#8220;Getting a TV job&#8221;. If we search for this phrase in the code
view, we can find the corresponding text within the code, on line 805.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://i.imgur.com/gOwTkyC.png" alt="The source code of a web page"></span>
<em>Image 2: Finding text in the source code of a web page.</em></p>
</div>
<div class="paragraph">
<p>The <code>&lt;p class="story-body__introduction"&gt;</code> just before the highlighted
section is HTML code to specify that a paragraph (<code>&lt;p&gt;</code> in HTML)
starts here and that this is a special kind of paragraph (an
introduction to the story). The paragraph continues until the <code>&lt;/p&gt;</code>
symbol. You don’t need to worry about understanding HTML completely, but
you should be aware that it contains <strong>both</strong> the text data that makes up
the news article and additional data about how to display the article.</p>
</div>
<div class="paragraph">
<p>A large part of web scraping is viewing pages like this to a) identify
the data that we are interested in and b) to separate this from the
markup and other code that it is mixed with. Even before we start
writing our own code, it can be tricky to first understand other
people’s.</p>
</div>
<div class="paragraph">
<p>In most pages, there is a lot of code to define the structure, layout,
interactivity, and other functionality of a web page, and relatively
little that contains the actual text and images that we usually view.
For especially complex pages, it can be quite difficult, even with the
help of the find function, to locate the code that is responsible for a
particular part of the page. To help with this, most web browsers come
with so-called &#8220;developer tools&#8221;, which are aimed primarily at
programmers to assist in the creation and maintenance of web sites, but
these tools are also very useful for doing web scraping.</p>
</div>
</div>
<div class="sect3">
<h4 id="_navigating_the_source_code_using_developer_tools">Navigating the source code using developer tools</h4>
<div class="paragraph">
<p>You can open the developer tools for your browser from the main menu,
with Google Chrome shown on the left and Mozilla Firefox on the right
below. If you’re using a different web browser, you should be able to
find a similar setting.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://i.imgur.com/7AjzPn8.png" alt="activting the developer tools"></span>
<em>Image 3: Opening Developer Tools in Chrome (left) and Firefox (right)</em>.</p>
</div>
<div class="paragraph">
<p>Activating the tool brings up a new panel in your web browser, normally
at the bottom or on the right-hand side. The tool contains an
&#8220;Inspector&#8221; panel and a selector tool, which can be chosen by pressing
the icon highlighed in red below. Once the selector tool is active, you
can click on parts of the web page to view the corresponding source
code. In the image below, we selected the same first paragraph in the
normal view and we can see the <code>&lt;p class=story-body__introduction"&gt;</code>
code again in the panel below.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://i.imgur.com/4ZuAhrs.jpg" alt="Viewing a specific element in developer tools"></span> <em>Image 4: Viewing the code for a specific element using
developer tools.</em></p>
</div>
<div class="paragraph">
<p>The Developer Tools are significantly more powerful than using the
simple find tool, but they are also more complicated. You should choose
a method based on your experience and the complexity of the page that
you are trying to analyze.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_downloading_a_web_page_with_python">Downloading a web page with Python</h3>
<div class="paragraph">
<p>Now that we’ve seen a bit more of how web pages are built in our
browser, we can start retrieving and manipulating them using Python.
Python is not a web browser, so we will not get a &#8216;normal&#8217;
representation of a web page through Python. Instead, we’ll only be able
to retrieve and manipulate the HTML source code.</p>
</div>
<div class="paragraph">
<p>We’ll do this through a Python Repl using the <code>requests</code> library. Open
<a href="https://repl.it">repl.it</a> and choose to create a new Python repl.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://i.imgur.com/8V2aWUQ.png" alt="image"></span></p>
</div>
<div class="paragraph">
<p>This will take you to a working Python coding environment where you can
write and run Python code. To start with, we’ll download the content
from the BBC News homepage, and print out the first 1000 characters of
HTML source code.</p>
</div>
<div class="paragraph">
<p>You can do this with the following four lines of Python:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import requests

url = "https://bbc.com/news"
response = requests.get(url)
print(response.text[:1000])</code></pre>
</div>
</div>
<div class="paragraph">
<p>Put this code in the <code>main.py</code> file that Repl automatically creates
for you and press the &#8220;Run&#8221; button. After a short delay, you should
see the output in the output pane - the beginning of HTML source code,
similar to what we viewed in our web browser above.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://i.imgur.com/M4vISYq.png" alt="Basic web scraping using Python"></span>
<em>Image 5: Downloading a single page using Python.</em></p>
</div>
<div class="paragraph">
<p>Let’s pull apart each of these lines.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>In line 1, we import the Python <code>requests</code> library, which is a
library that allows to make web requests.</p>
</li>
<li>
<p>In line 3, we define a variable containing the URL of the main BBC
news site. You can visit this URL in your web browser to see the BBC
News home page.</p>
</li>
<li>
<p>In line 4, we pass the URL we defined to the <code>requests.get</code>
function, which will visit the web page that the URL points to and fetch
the HTML source code. We load this into a new variable called
<code>response</code>.</p>
</li>
<li>
<p>In line 5, we access the <code>text</code> attribute of our <code>response</code>
object, which contains all of the HTML source code. We take only the
first 1000 characters of this, and pass them to the <code>print</code> function,
which simply dumps the resulting text to our output pane.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>We have now automatically retrieved a web page and we can display parts
of the content. We are unlikely to be interested in the full source code
dump of a web page (unless we are storing it for archival reasons), so
let’s extract some interesting parts of the page instead of first 1000
characters.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_beautifulsoup_to_extract_all_urls">Using BeautifulSoup to extract all URLs</h3>
<div class="paragraph">
<p>The world wide web his built from pages that link to each other using
Hyperlinks, links, or URLs. (These terms are all used more-or-less
interchangably).</p>
</div>
<div class="paragraph">
<p>Let’s asume for now that we want to find all the news articles on the
BBC News homepage, and get their URLs. If we look at the main page
below, we’ll see there are a bunch of stories on the home page and
mousing over any of the headlines with the &#8220;inspect&#8221; tool, we can see
that each has a unique URL which takes us to that news story. For
example, mousing over the main &#8220;US and Canada agree new trade deal&#8221;
story in the image below is a link to
<a href="https://www.bbc.com/news/business-45702609" class="bare">https://www.bbc.com/news/business-45702609</a>.</p>
</div>
<div class="paragraph">
<p>If we inspect that element using the browser’s developer tools, we can
see it is a <code>&lt;a&gt;</code> element, which is HTML for a link, with an
<code>&lt;href&gt;</code> component that points to the URL. Note that the <code>href</code>
section goes only to the last part of the URL, omitting the
<a href="https://www.bbc.com" class="bare">https://www.bbc.com</a> part. Because we are already on BBC, the site can
use <em>relative URLs</em> instead of <em>absolute URLs</em>. This means that when you
click on the link, your browser will figure out that the URL isn’t
complete and prepend it with <a href="https://www.bbc.com" class="bare">https://www.bbc.com</a>. If you look around the
source code of the main BBC page, you’ll find both relative and absolute
URLs, and this already makes scraping all of the URLs on the page more
difficult.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://i.imgur.com/AYHG8Wq.jpg" alt="BBC home page showing URL to the main news story"></span> <em>Image 6: Viewing headline links using Developer
Tools.</em></p>
</div>
<div class="paragraph">
<p>We could try to use Python’s built-in text search functions like
<code>find()</code> or regular expressions to extract all of the URLs from the
BBC page, but it is not actually possible to do this reliably. HTML is a
complex language which allows web developers to do many unusual things.
For an amusing take on why we should avoid a &#8220;naive&#8221; method of looking
for links, see
<a href="https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags">this
very famous</a> StackOverflow question and the first answer.</p>
</div>
<div class="paragraph">
<p>Luckily, there is a powerful and simple-to-use HTML parsing library
called <a href="https://www.crummy.com/software/BeautifulSoup/">BeautifulSoup</a>,
which will help us extract all the links from a given piece of HTML. We
can use it by modifying the code in our Repl to look as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import requests
from bs4 import BeautifulSoup

url = "https://bbc.com/news"

response = requests.get(url)
html = response.text

soup = BeautifulSoup(html, "html.parser")
links = soup.findAll("a")
for link in links:
    print(link.get("href"))</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you run this code, you’ll see that it outputs dozens of URLs, one per
line. You’ll probably notice that the code now takes quite a bit longer
to run than before – BeautifulSoup is not built into Python, but is a
third-party module. This meant that before running the code, Repl had to
go and fetch this library and install it for you. Subsequent runs will
be faster.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://i.imgur.com/30eumti.png" alt="Output of URLs from our BeautifulSoup code"></span> <em>Image 7: Extracting all links from BBC News.</em></p>
</div>
<div class="paragraph">
<p>The code is simlar to what we had before with a few additions.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>On line 2, we import the BeautifulSoup library, which is used for
parsing and processing HTML.</p>
</li>
<li>
<p>One line 9, we transform our HTML into &#8220;soup&#8221;. This is
BeautifulSoup’s representation of a web page, which contains a bunch of
useful programatic features to search and modify the data in the page.
We use the &#8220;html.parser&#8221; option to parse HTML which is included by
default – BeautifulSoup also allows you specify a custom HTML parser
here. For example, you could install and specify a faster parser which
can be useful if you need to process a lot of HTML data.</p>
</li>
<li>
<p>In line 10, we find all the <code>a</code> elements in our HTML and extract
them to a list. Remember when we were looking at the URLs using our web
browser (Image 7), we noted that the <code>&lt;a&gt;</code> element in HTML was used to
define links, with the <code>href</code> attribute being used to specify where
the link should go to. This line finds all of the HTML <code>&lt;a&gt;</code> elements.</p>
</li>
<li>
<p>In line 11, we loop through all of the links we have, and in line 12
we print out the <code>href</code> section.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These last two lines show why BeautifulSoup is useful. To try and find
and extract these elements without it would be really difficult, but now
we can do it in two lines of readable code!</p>
</div>
<div class="paragraph">
<p>If we look at the URLs in the output pane, we’ll see quite a mixed bag
of results. We have absolute URLs (starting with &#8220;http&#8221;) and relative
ones (starting with &#8220;/&#8221;). Most of them go to general pages rather than
specific news articles. We need to find a pattern in the links we’re
interested in (that go to news articles) so that we can extract only
those.</p>
</div>
<div class="paragraph">
<p>Again trial and error is the best way to do this. If we go to the BBC
News home page and use developer tools to inspect the links that go to
news articles, we’ll find that they all have a similar pattern. They are
relative URLs which start with &#8220;/news&#8221; and end with a long number,
e.g. <code>/news/newsbeat-45705989</code></p>
</div>
<div class="paragraph">
<p>We can make a small change to our code to only output URLs that match
this pattern. Replace the last two lines of our Python code with the
following four lines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">for link in links:
    href = link.get("href")
    if href.startswith("/news") and href[-1].isdigit():
        print(href)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we still loop through all of the links that BeautifulSoup found for
us, but now we extract the <code>href</code> to its own variable immediately
after. We then inspect this variable to make sure that it matches our
conditions (starts with &#8220;/news&#8221; and ends with a digit), and only if it
does then we print it out.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://i.imgur.com/3xQ543Z.png" alt="Printing only the news URLs"></span>
<em>Image 8: Printing only links to news articles from BBC.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="_installing_beautifulsoup_through_requirements_txt">Installing BeautifulSoup through requirements.txt</h3>
<div class="paragraph">
<p>Repl makes it easy to install third-party Python libraries such as
BeautifulSoup through their
<a href="https://repl.it/site/blog/python-import">universal installer</a>. However,
as BeautifulSoup is not part of standard Python you would usually have
to install it separately.</p>
</div>
<div class="paragraph">
<p>If you are not using Repl to follow along this tutorial, you’ll have to
install BeautifulSoup with your favourite package manager, e.g.</p>
</div>
<div class="paragraph">
<p><code>pip3 install beautifulsoup4</code></p>
</div>
<div class="paragraph">
<p>You can also explicity specify to Repl which packages to install by
creating a <code>requirements.txt</code> file in the root of your project. To do
this, press the &#8220;Add file&#8221; button in the top left of your Repl
environment, and name the new file <code>requirements.txt</code> (the exact name
is important). As you add package names to this file, they’ll get
automatically installed.</p>
</div>
<div class="paragraph">
<p>BeautifulSoup is called <code>beautifulsoup4</code> in the
<a href="https://pypi.org/">Python Package Index</a>, so we need to use that name
here. In the new <code>requirements.txt</code> file, add a the line
<code>beautifulsoup4</code>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://cdn.filestackcontent.com/YXGPRHWBRgGrBLP7rswd" alt="Adding requirements.txt to your Repl"></span> <em>Image 9: Installing packages using
requirements.txt.</em></p>
</div>
<div class="paragraph">
<p>You’ll see the package get installed as you finish typing the package
name (look in the output pane on the right). You should see the phrase
&#8220;successfully installed&#8221; somewhere in the output if all went well.</p>
</div>
<div class="paragraph">
<p>Developers often make changes to their libraries to improve them, but
sometimes these improvements can break existing code that relies on the
libraries. If you want to make sure that your Repl works well into the
future, you can lock a specific version of BeautifulSoup. You’ll notice
from the output above that the latest version (installed by default) of
BeautifulSoup is 4.6.3, so we can modify the line in our
<code>requirements.txt</code> file to read <code>beautifulsoup4==4.6.3</code>. This would
lock the current version of BeautifulSoup in place, ensuring that we are
unaffected by any updates to the library (but will also stop us from
benefiting from any improvements that the BeautifulSoup developers
make).</p>
</div>
</div>
<div class="sect2">
<h3 id="_fetching_all_of_the_articles_from_the_homepage">Fetching all of the articles from the homepage</h3>
<div class="paragraph">
<p>Now that we have the link to every article on the BBC News homepage, we
can fetch the data for each one of these individual articles. As a toy
project, let’s extract the proper nouns (people, places, etc) from each
article and print out the most common ones to get a sense on what things
are being talked about today.</p>
</div>
<div class="paragraph">
<p>Adapt our code to look as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import requests
import string

from collections import Counter

from bs4 import BeautifulSoup


url = "https://bbc.com/news"


response = requests.get(url)
html = response.text
soup = BeautifulSoup(html, "html.parser")
links = soup.findAll("a")

news_urls = []
for link in links:
    href = link.get("href")
    if href.startswith("/news") and href[-1].isdigit():
        news_url = "https://bbc.com" + href
        news_urls.append(news_url)


all_nouns = []
for url in news_urls[:10]:
    print("Fetching {}".format(url))
    response = requests.get(url)
    html = response.text
    soup = BeautifulSoup(html, "html.parser")

    words = soup.text.split()
    nouns = [word for word in words if word.isalpha() and word[0] in string.ascii_uppercase]
    all_nouns += nouns

print(Counter(all_nouns).most_common(100))</code></pre>
</div>
</div>
<div class="paragraph">
<p>This code is quite a bit more complicated than what we previously wrote,
so don’t worry if you don’t understand all of it. The main changes are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At the top, we add two new imports. One for <code>string</code> which is
standard Python module that contains some useful word and letter
shortcuts. We’ll use it to identify all the capital letters in our
alphabet. The second module is a Counter which will lets us find the
most common nouns in a list, once we have built a list of all the nouns.</p>
</li>
<li>
<p>We’ve added <code>news_urls = []</code> at the top of the first <code>for</code> loop.
Instead of printing out each URL once we’ve identified it as a &#8220;news
URL&#8221;, we add it to this list so we can download each page later. Inside
the for loop two lines down, we combine the root domain
(&#8220;<a href="http://bbc.com&#8221;" class="bare">http://bbc.com&#8221;</a>) with each href attribute, and then add the complete
URL to our <code>news_urls</code> list.</p>
</li>
<li>
<p>We then go into another for loop, where we loop through the first 10
news URLs (if you have more time, you can remove the <code>[:10]</code> part to
iterate through all the news pages, but for efficiency we’ll just
demonstrate with the first 10).</p>
</li>
<li>
<p>We print out the URL that we’re fetching (as it takes a second or so
to download each page, it’s nice to display some feedback so we can see
that the program is working).</p>
</li>
<li>
<p>We then fetch the page and turn it into Soup, as we did before.</p>
</li>
<li>
<p>With <code>words = soup.text.split()</code> we extract all the text from the
page and split this resulting big body of text into individual words.
The Python <code>split()</code> function splits on white space, which is a
horribly crude way to extract words from a piece of text, but it will
serve our purpose for now.</p>
</li>
<li>
<p>The next line loops through all the words in that given article and
keeps only the ones that are made up of numeric characters and which
start with a capital letter (<code>string.ascii_uppercase</code> is just the
uppercase alphabet). This is also an extremely crude way of extracting
nouns, and we will get a lot of words (like those at the start of
sentences) which are not actually proper nouns, but again it’s a good
enough approximation for now.</p>
</li>
<li>
<p>Finally, we add all the words that look like nouns to our
<code>all_nouns</code> list and move on to the next article to do the same</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once we’ve downloaded all the pages, we print out the 100 most common
nouns along with a count of how often they appeared using Python’s
convenience <code>Counter</code> object, that’s part of the built-in
<code>collections</code> module.</p>
</div>
<div class="paragraph">
<p>You should see output similar to that in the image below (though your
words will be different, as the news changes every few hours). We have
the most common &#8220;nouns&#8221; followed by a count of how often that noun
appeared in all 10 of the articles we looked at.</p>
</div>
<div class="paragraph">
<p>We can see that our crude extraction and parsing methods are far from
perfect – words like &#8220;Twitter&#8221; and &#8220;Facebook&#8221; appear in most
articles because of the social media links at the bottom of each
article, so their presence doesn’t mean that Facebook and Twitter
themselves are in the news today. Similarly words like &#8220;From&#8221; aren’t
nouns, and other words like &#8220;BBC&#8221;, &#8220;Optimizely&#8221; and &#8220;Business&#8221; are
also included because they appear on each page, outside of the main
article text.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="https://i.imgur.com/fmXRTMg.png" alt="Output showing the most common &#8216;nouns&#8217;"></span> <em>Image 10: The final output of our programme, showing the
words that appear most often in BBC articles.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="_where_next">Where next?</h3>
<div class="paragraph">
<p>We’ve completed the basics of web scraping, and looked at how the web
works, how to extract information from web pages, and how to do some
very basic text extraction. You will probably want to do something
different than extract words from BBC! You can fork this Repl from
<a href="https://repl.it/@GarethDwyer1/beginnerwebscraping" class="bare">https://repl.it/@GarethDwyer1/beginnerwebscraping</a> and modify it to
change which site it scrapes and what content it extracts. You can also
join the <a href="https://discord.gg/QWFfGhy">Repl Discord Server</a> to chat with
other developers who are working on simlar projects and who will happily
exchange ideas with you or help if you get stuck.</p>
</div>
<div class="paragraph">
<p>We have walked through a very flexible method of web scraping, but it’s
the &#8220;quick and dirty&#8221; way. If BBC updates their website and some of
our assumptions (e.g. that news URLs will end with a number) break, our
web scraper will also break.</p>
</div>
<div class="paragraph">
<p>Once you’ve done a bit of web scraping, you’ll notice that the same
patterns and problems come up again and again. Because of this, there
are many frameworks and other tools that solve these common problems
(finding all the URLs on the page, extracting text from the other code,
dealing with changing web sites, etc), and for any big web scraping
project, you’ll definitely want to use these instead of starting from
scratch.</p>
</div>
<div class="paragraph">
<p>Some of the best Python web scraping tools are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://scrapy.org/"><strong>Scrapy</strong></a>: A framework used by people who want to
scrape millions or even billions of web pages. Scrapy lets you build
&#8220;spiders&#8221; – programmatic robots that move around the web at high
speed, gathering data based on rules that you specify.</p>
</li>
<li>
<p><a href="https://github.com/codelucas/newspaper"><strong>Newspaper</strong></a>: we touched on how
it was difficult to separate the main text of an online news article
from all the other content on the page (headers, footers, adverts, etc).
This problem is actually an incredibly difficult one to solve. Newspaper
uses a combination of manually specified rules and some clever
algorithms to remove the &#8220;boilerplate&#8221; or non-core text from each
article.</p>
</li>
<li>
<p><a href="https://www.seleniumhq.org/"><strong>Selenium</strong></a>: we scraped some basic content
without using a web browser, and this works fine for images and text.
Many parts of the modern web are dynamic though – e.g. they only load
when you scroll down a page far enough, or click on a button to reveal
more content. These dynamic sites are very difficult to scrape
automatically, but selenium allows you to fire up a real web browser and
control it just as a human would (but automatically), which allows you
to automatically access this kind of dynamic content.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are a bunch of other tools too and a lot can be done just by using
them in combination with each other. Web scraping is a large world that
we’ve only just touched on. If you have any questions about this
tutorial, feel free to comment below or to ping me on Twitter at
<a href="https://twitter.com/sixhobbits" class="bare">https://twitter.com/sixhobbits</a>. Happy exploring!</p>
</div>
</div>
</div>
</div>
</div>
</body>
</html>